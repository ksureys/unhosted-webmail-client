<!DOCTYPE html>
<html>
<script type="text/javascript" src="TCP_Interface.js"></script>
<script type="text/javascript" src="IMAP_Interface.js"></script>
<script type="text/javascript" src="IMAP_Fetch.js"></script>  <!-- -->

<!-- <script type="text/javascript" src="SMTP_Interface.js"></script> -->
<!-- <script type="text/javascript" src="SMTP_Sendmail.js"></script> -->

<script type="text/javascript" src="Sync_Module.js"></script>
<script type="text/javascript" src="Mail_Settings.js"></script>


<script type="text/javascript" src="logger.js"></script>


<body>
	<button type="button" onclick="start();">start</button>
	<button type="button" onclick="login();">login</button>
	<button type="button" onclick="select();">select</button>
	<button type="button" onclick="fetchList();">fetchList</button>

	<button type="button" onclick="startMe();">Click to start</button>

	<div id="displaydiv">


	<table>
		<tr>
        	<td>Account</td>
            <td><select id="setting" onchange="setSetting()">
                <option value="gmail">unhostedcse@gmail.com</option>
                <option value="hotmail">unhostedcse@outlook.com</option>  
                <option value="local">localhost</option>
                <option value="unhosted">unhosted</option>
                </select>
            </td>
     	</tr>       
    </table>    
</div>
 
<div id="imapdiv">  
	<!-- <label>user</label> -->
    <table>
      <tr>
        <td>user:</td>
        <td><input type="text" id="user" value="unhostedcse@gmail.com"></td>
      </tr> 
      <tr>
        <td>pass:</td>
        <td><input type="text" id="pass" value="unhostedcse12345"></td>
      </tr>  
      <tr>
      	<td>smtp:</td>
        <td><input type="text" id="smtp" value="smtp.gmail.com"></td>
      </tr>
      <tr>
      	<td>smtpport:</td>
      	<td><input type="text" id="smtpport" value="465"></td>        
      	<td><select id="smtpsec" onchange="">
            <option value="ssl">SSL</option>
            <option value="tls">TLS</option>  
            <option value="no">NO</option>  
            </select>
    	</td>        
      </tr>
      <tr>
      	<td>imap:</td>
        <td><input type="text" id="imap" value="imap.gmail.com"></td>
      </tr>
      <tr>
      	<td>imapport:</td>
      	<td><input type="text" id="imapport" value="993"></td>        
      	<td><select id="imapsec" onchange="">
          	<option value="ssl">SSL</option>
          	<option value="tls">TLS</option>  
          	<option value="no">NO</option>  
        	</select>
    	  </td>        
        <!-- <td><input type="text" id="msgid" value=""></td> -->
      </tr>
           
    </table>                 
</div>

</body>
<script>

function startMe(){
	var s=new Sync_Module();

	username=document.getElementById('user').value;
	password=document.getElementById('pass').value;

	host=document.getElementById('imap').value;
	port=document.getElementById('imapport').value;
	security=document.getElementById('imapsec').value;

  /*host=document.getElementById('smtp').value;
  port=document.getElementById('smtpport').value;
  security=document.getElementById('smtpsec').value;*/

	s.getUids();
}

 function setSetting(){
 	var x = document.getElementById("setting").value;
 	if (x=='gmail') {
 		document.getElementById('user').value='unhostedcse@gmail.com';
		document.getElementById('pass').value='unhostedcse12345';
		document.getElementById('smtp').value='smtp.gmail.com';
		document.getElementById('smtpport').value='465';
		document.getElementById('imap').value='imap.gmail.com';
		document.getElementById('imapport').value='993';	
		document.getElementById('imapsec').value='ssl';	
		document.getElementById('smtpsec').value='ssl';	
 	}else if(x=='hotmail'){ 	
 		document.getElementById('user').value='unhostedcse@outlook.com';
		document.getElementById('pass').value='projects12345';
		document.getElementById('smtp').value='Smtp-mail.outlook.com';
		document.getElementById('smtpport').value='587';
		document.getElementById('imap').value='imap-mail.outlook.com';
		document.getElementById('imapport').value='993';		 	
 	}else if(x=='local'){ 	
 		document.getElementById('user').value='rukshan';
		document.getElementById('pass').value='17806';
		document.getElementById('smtp').value='localhost';
		document.getElementById('smtpport').value='25';
		document.getElementById('imap').value='localhost';
		document.getElementById('imapport').value='143';		 	
		document.getElementById('imapsec').value='no';	
		document.getElementById('smtpsec').value='no';	
 	}else if(x=='unhosted'){ 	
 		document.getElementById('user').value='rukshan';
		document.getElementById('pass').value='rukshan17806';
		document.getElementById('smtp').value='unhosted.projects.uom.lk';
		document.getElementById('smtpport').value='25';
		document.getElementById('imap').value='unhosted.projects.uom.lk';
		document.getElementById('imapport').value='993';		 	
 	}	

 } 

</script>
</html>
